<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="copyright" content="(C) Copyright 2018"><meta name="DC.rights.owner" content="(C) Copyright 2018"><meta name="DC.Type" content="concept"><meta name="DC.Relation" scheme="URI" content="../topics/impala_functions.html"><meta name="prodname" content="Impala"><meta name="prodname" content="Impala"><meta name="version" content="Impala 2.12x"><meta name="version" content="Impala 2.12x"><meta name="DC.Format" content="XHTML"><meta name="DC.Identifier" content="misc_functions"><link rel="stylesheet" type="text/css" href="../commonltr.css"><title>Impala Miscellaneous Functions</title></head><body id="misc_functions"><main role="main"><article role="article" aria-labelledby="ariaid-title1">

  <h1 class="title topictitle1" id="ariaid-title1">Impala Miscellaneous Functions</h1>
  
  

  <div class="body conbody">

    <p class="p">
      Impala supports the following utility functions that do not operate on a particular column or data type:
    </p>

    <dl class="dl">
      

        <dt class="dt dlterm" id="misc_functions__current_database">
          <code class="ph codeph">current_database()</code>
        </dt>

        <dd class="dd">
          
          <strong class="ph b">Purpose:</strong> Returns the database that the session is currently using, either <code class="ph codeph">default</code>
          if no database has been selected, or whatever database the session switched to through a
          <code class="ph codeph">USE</code> statement or the <span class="keyword cmdname">impalad</span><code class="ph codeph">-d</code> option.
          <p class="p">
            <strong class="ph b">Return type:</strong> <code class="ph codeph">string</code>
          </p>
        </dd>

      

      

        <dt class="dt dlterm" id="misc_functions__effective_user">
          <code class="ph codeph">effective_user()</code>
        </dt>

        <dd class="dd">
          
          <strong class="ph b">Purpose:</strong> Typically returns the same value as <code class="ph codeph">user()</code>,
          except if delegation is enabled, in which case it returns the ID of the delegated user.
          <p class="p">
            <strong class="ph b">Return type:</strong> <code class="ph codeph">string</code>
          </p>
          <p class="p">
            <strong class="ph b">Added in:</strong> <span class="keyword">Impala 2.2.5</span>
          </p>
        </dd>

      

      

        <dt class="dt dlterm" id="misc_functions__pid">
          <code class="ph codeph">pid()</code>
        </dt>

        <dd class="dd">
          
          <strong class="ph b">Purpose:</strong> Returns the process ID of the <span class="keyword cmdname">impalad</span> daemon that the session is
          connected to. You can use it during low-level debugging, to issue Linux commands that trace, show the
          arguments, and so on the <span class="keyword cmdname">impalad</span> process.
          <p class="p">
            <strong class="ph b">Return type:</strong> <code class="ph codeph">int</code>
          </p>
        </dd>

      

      

      

        <dt class="dt dlterm" id="misc_functions__user">
          <code class="ph codeph">user()</code>
        </dt>

        <dd class="dd">
          
          <strong class="ph b">Purpose:</strong> Returns the username of the Linux user who is connected to the <span class="keyword cmdname">impalad</span>
          daemon. Typically called a single time, in a query without any <code class="ph codeph">FROM</code> clause, to
          understand how authorization settings apply in a security context; once you know the logged-in username,
          you can check which groups that user belongs to, and from the list of groups you can check which roles
          are available to those groups through the authorization policy file.
          <p class="p">
        In Impala 2.0 and later, <code class="ph codeph">user()</code> returns the full Kerberos principal string, such as
        <code class="ph codeph">user@example.com</code>, in a Kerberized environment.
      </p>
          <p class="p">
            When delegation is enabled, consider calling the <code class="ph codeph">effective_user()</code> function instead.
          </p>
          <p class="p">
            <strong class="ph b">Return type:</strong> <code class="ph codeph">string</code>
          </p>
        </dd>

      

      

        <dt class="dt dlterm" id="misc_functions__uuid">
          <code class="ph codeph">uuid()</code>
        </dt>

        <dd class="dd">
          
          <strong class="ph b">Purpose:</strong> Returns a <a class="xref" href="https://en.wikipedia.org/wiki/Universally_unique_identifier" target="_blank">universal unique identifier</a>, a 128-bit value encoded as a string with groups of hexadecimal digits separated by dashes.
          <p class="p">
            <strong class="ph b">Return type:</strong> <code class="ph codeph">string</code>
          </p>
          <p class="p">
        <strong class="ph b">Added in:</strong> <span class="keyword">Impala 2.5.0</span>
      </p>
          <p class="p">
        <strong class="ph b">Usage notes:</strong>
      </p>
          <p class="p">
            Ascending numeric sequences of type <code class="ph codeph">BIGINT</code> are often used
            as identifiers within a table, and as join keys across multiple tables.
            The <code class="ph codeph">uuid()</code> value is a convenient alternative that does not
            require storing or querying the highest sequence number. For example, you
            can use it to quickly construct new unique identifiers during a data import job,
            or to combine data from different tables without the likelihood of ID collisions.
          </p>
          <p class="p">
        <strong class="ph b">Examples:</strong>
      </p>
<pre class="pre codeblock"><code>
-- Each call to uuid() produces a new arbitrary value.
select uuid();
+--------------------------------------+
| uuid()                               |
+--------------------------------------+
| c7013e25-1455-457f-bf74-a2046e58caea |
+--------------------------------------+

-- If you get a UUID for each row of a result set, you can use it as a
-- unique identifier within a table, or even a unique ID across tables.
select uuid() from four_row_table;
+--------------------------------------+
| uuid()                               |
+--------------------------------------+
| 51d3c540-85e5-4cb9-9110-604e53999e2e |
| 0bb40071-92f6-4a59-a6a4-60d46e9703e2 |
| 5e9d7c36-9842-4a96-862d-c13cd0457c02 |
| cae29095-0cc0-4053-a5ea-7fcd3c780861 |
+--------------------------------------+
</code></pre>
        </dd>

      

      

        <dt class="dt dlterm" id="misc_functions__version">
          <code class="ph codeph">version()</code>
        </dt>

        <dd class="dd">
          
          <strong class="ph b">Purpose:</strong> Returns information such as the precise version number and build date for the
          <code class="ph codeph">impalad</code> daemon that you are currently connected to. Typically used to confirm that you
          are connected to the expected level of Impala to use a particular feature, or to connect to several nodes
          and confirm they are all running the same level of <span class="keyword cmdname">impalad</span>.
          <p class="p">
            <strong class="ph b">Return type:</strong> <code class="ph codeph">string</code> (with one or more embedded newlines)
          </p>
        </dd>

      
    </dl>
  </div>
<nav role="navigation" class="related-links"><div class="familylinks"><div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../topics/impala_functions.html">Impala Built-In Functions</a></div></div></nav></article></main></body></html>